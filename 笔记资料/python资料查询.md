# python资料查询

## 一、python1

python官方手册：https://docs.python.org/zh-cn/3/library/index.html

### 1**、 python语法** <1-1>

```python
1. 用缩进表达代码逻辑：推荐缩进4个空格
2. 注释和续行与shell一样
> 在pycharm中，按ctrl + / 可以快速添加/取消注释
3. 多个语句书写在同一行，可以使用分号进行分隔。但是不推荐。
```

### **2、 输出语句**

```
- 主要采用的是print函数
- 在python中函数调用需要添加()
```

### 3 、输入语句

```
- python中，通过input函数获取用户键盘输入
- input函数的参数是字符串，它是屏幕提示语
```

### **4、 变量**

```
- 字面量就是看到什么是什么，如'abc'，100
- 变量是变化的量，看到什么不一定是什么。
- 变量只是为了编写代码方便。当看到变量时，应该透过变量看到它代表的值
- 编写代码时尽量多的使用变量，而不是直接使用字面量。直接使用字面量，是硬编码，代码可重用性差。
- 变量名称约定
  - 第一个字符只能是大小写字母或下划线
  - 后续字符只能是大小写字母或数字或下划线
  - 区分大小写

- 推荐采用的全名方法
  - 变量名全部采用小写字母，如pythonstring
  - 简短、有意义，如pystr
  - 多个单词间用下划线分隔，如py_str
  - 变量名用名词，函数名用谓词（动词+名词），如 phone / update_phone
  - 类名采用驼峰形式，如MyClass

- 变量在使用之前，必须先进行赋值
- 变量赋值是一个自右向左的运算，将=右边表达式的计算结果，赋值给左边的变量
```

### **5、运算符**

```
# 算术运算符
# 比较运算符
# 逻辑运算符
```

### **6、数据类型** <1-2>

```python
#### 数字
- 整数：没有小数点
- 浮点数：有小数点
- 布尔数：True为1，False为0
#### 字符串
- python中字符串被定义为引号之间的字符集合
- python支持使用成对的单引号或双引号
- 无论单引号，还是双引号，表示的意义相同
- python还支持三引号（三个连续的单引号或者双引号），可以用来包含特殊字符
#### 列表
- 列表可以当作数组使用
- 字符串的相关操作同样适用于列表
#### 元组 --->元组不可变，报错
- 可以理解为元组是不可变的列表
- 列表的相关操作同样适用于元组
####字典 
- 字典是由键-值(key-value)对构成的映射数据类型
- 通过键取值，不支持下标操作
- 字典是没有顺序的

### 数据类型总结
#### 按存储模型分类
- 标量：字符串、数字
- 容器：列表、元组、字典
#### 按访问模型分类
- 直接：数字
- 顺序：字符串、列表、元组
- 映射：字典
#### 按更新模型分类
- 不可变：数字、字符串、元组
- 可变：列表、字典
```

### 7、判断语句

~~~python
if 条件1:
    如果条件1为真，执行的语句块
elif 条件2:
    如果条件2为真，执行的语句块
elif 条件3:
    如果条件3为真，执行的语句块
... ...
elif 条件n:
    如果条件n为真，执行的语句块
else:
    如果上述条件都为假，执行的语句块
```
- 判断条件是一个分支结构，只会执行一个分支
- 数据类型也可以作为判断条件。对于数字，任何值为0的数字都是假，非0为真；其他数据类型，非空为真，空为假
- random模块 #取随机数
~~~

### 8、循环语句

~~~python
### while循环
- 语法结构

while 条件:
    如果条件为真，执行的语句块
    语句块执行完毕后，返回到while条件
```
- while后面的条件，也if的条件完全一样
- while循环中还可以包含break子句，循环遇到break将会结束循环
- continue语句用于跳过本次循环，回到判断条件处
- python的循环语句也有else，当循环被break时，else语句不执行，否则执行

### for循环
- for循环也有continue / break / else，用法与while完全一样
- for循环经常和range联用
range  #和shell的seq相等
~~~

### 9、文件操纵  <1-3>

```python
- 文件操作的三个步骤：打开、读写、关闭
>>> f = open('/tmp/mima'，w)  # 打开文件，返回一个文件对象
>>> data = f.read()  # read默认读取全部数据
>>> f.close()        # 关闭文件
>>> print(data)

### 文本文件的操作
- str：字符。一个英文字符是一个字符，一个中文字符也是一个字符
- bytes：字节。存储单位。不同的字符所占用的字节数不一样
- 将一串2进制的01组合表示成相应的字符，是编码。美国常用的编码是ASCII，欧洲常用的是ISO-8859-1(Latin1)，中国常用GBK / GB2312 / GB18030。如ASCII:

A -> 01000001;  B -> 01000010;  C-> 01000011

- 不同编码方案，导致相同的一个文件使用不同编码格式打开，看到的内容不一致。所以ISO推出了万国码Unicode，utf8是其中的一套解决方案。utf8是变长的，一个英文字符占一个字节，一个中文字符一般占3个字节
```

### 10、函数

```python
- 为了方便代码重用，可以将代码块起一个名字进行调用。
- 语法
def 函数名(参数...):
    代码块
- 定义函数时，只是声明有这样的一个功能，函数体内的代码不执行
- 如果需要执行函数内的代码，必须明确进行调用

### 返回值
- 函数运行完毕后，将会有一个结果。
- 通过return语句，将结果返回。
- 如果没有return，默认返回None。None是关键字，表示空。
- 函数定义时，紧跟在函数名后（圆括号内）的参数被称为形式参数，简称形参。
- 在调用一个函数时，函数名后面括弧中的参数（可以是一个表达式）称为“实际参数”，简称实参
- 提供了默认值的参数，是默认参数
- python将命令行上的位置参数，保存到了sys模块的argv列表中
- sys.argv[0]相当于$0，sys.argv[1]相当于$1
###模块
- 文件是物理上组织代码的方式
- 模块是逻辑上组织代码的方式
- 一个以.py结尾的文件就是一个模块文件。将.py扩展名移除，剩余的文件名就是模块名
#### `__name__`属性

- 我们希望有些代码是在指定条件下运行的
- 当模块文件直接运行，执行特定代码
- 当模块被其他文件导入时，不执行那些特定代码
- 每个模块都有一个名为`__name__`的属性，可以理解为它是一个变量。它的值在不同的情况下不一样，但是只有两个可能。
- 如果模块文件直接运行，它的值是`__main__`
- 如果模块文件被其他文件导入，它的值是模块名
- 因此只要判断`__name__`的值，就可以知道模块文件在以何种方式运行。
```

### 11、系统管理模块 <1-4>

```python
### shutil模块
- https://docs.python.org/zh-cn/3/library/shutil.html
- 用于复制、移动文件和目录
### subprocess模块
- 用于执行系统命令
- https://docs.python.org/zh-cn/3/library/subprocess.html    
```

### 12、序列对象

```python
### 可用于序列对象的函数
- sorted用于排序
- reversed用于翻转
- enumerate同时得到下标和值
### 字符串
- 字符串格式化
"" % ()  -> 引号中出现的占位符，被()中相应的数据替换
- 使用字符串的format方法实现格式化，了解
- 原始字符串、真实字符串
### 字符串方法
https://docs.python.org/zh-cn/3/library/stdtypes.html#string-methods
```

### 13、列表、元组、字典、集合  <1-5>

```python
##列表
l1 = [randint(1, 100) for i in range(10)]
- 属于容器、序列、可变类型
##元组  --->例子：压栈
t1 = (10, 20, 30, 10, 5, 10, 8)
- 属于容器、顺序、不可变类型
- 元组相当于是不可变的列表
- 元组的方法
- 单元素元组：如果元组中只有一项，必须有逗号，否则它不是元组
##字典
d1 = {'name': 'nb', 'age': 20, 'age': 22}
- 属于容器、可变、映射类型
- 字典的key不能重复
- 字典的key必须是不可变的（数字、字符串、元组）
- 赋值时，如果字典中有key，则覆盖；不存在则添加
- 字典方法
## 集合 --->去重时，优先想到集合
去重，取交集
s1 = {'hello', 'world', 'china', 'tedu'}
- 集合是一个数学上的概念，由不同的元素构成
- 集合元素必须是不可变的
- 集合没有顺序
- 集合就像是一个没有值的字典
- 集合有可变的set和不可变的frozenset
```

## 二、python2-进阶

### 1、时间 <2-1>

```python
### time模块
https://docs.python.org/zh-cn/3/library/time.html
#### time模块表示时间的方法
- 时间戳：表示的是从1970年1月1日`00:00:00`开始按秒计算的偏移量
- UTC时间：世界协调时。
- struct_time：9元组表示的时间(年、月、日、时、分、秒、一周中的第几天，一年中的第几天，是否使用夏季节约时间)。注意：一周中的第几天，周一为0
### datetime模块
```

### 2、异常处理

~~~python
## 异常处理
- 程序在运行时，如果遇到错误，它将会崩溃，终止执行。
- 异常处理就是要捕获这些问题，并给出补救代码。
- 语法
```python
try:
    有可能发生异常的语句
except 异常1:
    发生异常1执行的语句
except 异常2:
    发生异常2执行的语句
except 异常3 as e:  # 将异常保存为变量e
    发生异常3执行的语句
... ...
else:
    不发生异常才执行的语句
finally:
    不管异常是否发生，都要执行的语句
```

#### 触发异常
- 通过raise抛出指定的异常
- 通过assert抛出断言异常AssertionError
## os模块
- 对文件系统的访问大多通过python的os模块实现
- 有些方法，如copy等，并没有提供，可以使用shutil模块作为补充
#### os.walk函数
#### pickle模块
#### 记账练习
~~~

### 3、函数 <2-2>

```python
- 定义函数的先后顺序不重要，重要的是调用顺序
- 函数调用时，传递的参数，写为key=val形式，称作关键字参数；直接写为arg，称作位置参数
- 定义函数时，如果将函数的参数前加`*`，表示使用元组接收参数
- 定义函数时，如果将函数的参数前加`**`，表示使用字典接收参数
- 调用函数时，在参数前加`*`或`**`表示将对象拆开
- 匿名函数通过lambda定义<lambda x y:x+y>
- 一个完整的lambda“语句”代表了一个表达式，这个表达式的定义体必须和声明放在同一行
#### filter函数
- 用于过滤数据。
- 它接受两个参数。第一个参数是函数，第二个参数是序列对象
- 第一个函数它接受一个参数，返回值必须是真或假。
- filter函数将会把序列对象的每个值交给第一个函数过滤，返回真的保留，假的过滤掉
#### map函数
- map函数用于加工数据
- 它接受两个参数。第一个参数是函数，第二个参数是序列对象
- map将序列对象中的每个值传递给第一个参数，将加工的结果保存下来
## 变量作用域
- 在函数外定义的变量是全局变量，自它定义开始的地方到程序结束，一直可见可用
- 在函数内定义的变量是局部变量，只能在函数内使用。不同函数，可以拥有相同名称的变量，但是它们之间没有关系。
- 全局和局部如果有相同名称的变量，局部变量将会遮盖住全局变量。
- 如果希望在函数内改变全局变量的值，可以使用global关键字
## 偏函数
- 通过functools中的partial改造现有函数，将现有函数的一部分参数固定下来，生成新的函数
## 生成器
- 生成器表达式：语法和列表解析一样
- 生成器函数。和普通的函数不同，生成器函数可以通过yield返回很多中间结果。
- 生成器使用示例：https://www.jianshu.com/p/87d9e3169ec0
## 模块
- python导入模块时，会在sys.path定义的路径下查找。如果查不到则报导入错误
- 为了可以在任意位置都能导入自己编写的模块，可以将模块放到/xxxx/site-packages。还可以通过PYTHONPATH环境变量定义自己模块的路径
### hashlib模块
- 用于计算数据的哈希值（md5 / sha）
- 哈希值经常用于校验文件的完整性和保存加密密码
### tarfile模块
- 实现压缩、解压缩

```

### 4、oop  <2-3>

```python
- 面向对象编程
- 函数式编程，数据和行为是分开的。
- OOP可以将数据和行为融合，成为一个整体。
- 将编程对象抽象成一个类
- 类(Class)：用来描述具有相同的属性和方法的对象的集合。它定义了该集合中每个对象所共有的属性和方法。对象是类的实例。 
- 实例化：创建一个类的实例，类的具体对象。
- 方法：类中定义的函数。
- 对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。
## 组合
- 两个类明显不同，其中一个类是另一个类的组件
## 派生
- 当类之间有显著的不同，并且较小的类是较大的类所需要的组件时组合表现得很好；但当设计“相同的类但有一些不同的功能”时，派生就是一个更加合理的选择了
- OOP 的更强大方面之一是能够使用一个已经定义好的类，扩展它或者对其进行修，而不会影响系统中使用现存类的其它代码片段
- OOD（面向对象设计）允许类特征在子孙类或子类中进行继承
- 如果父类和子类拥有相同的方法，子类实例优先执行子类方法
- 如果需要子类中执行父类的方法，可以明确调用
- 多重继承：子类可以有多个父类。子类继承所有父类的方法。
- 如果有同名方法，查找顺序是自下向上，自左向右。
- 常用的魔法方法。在oop中，有很多以双下划线开头和结尾的属性，被称作magic。它们一般用于内部功能，了解即可。
## re模块--->正则表达式
- 将mac地址加冒号
- 当有大量内容进行匹配时，把正则模式字符串进行编译，将会有更好的执行效率
```

### 5、复杂列表的排序 <2-4>

